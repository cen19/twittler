<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>

  </head>
  <body>
    <script>

      function getUserTweets(userName) {
        return streams.users.userName;
      }
      // executes the function only when the document has loaded
      $(document).ready(function(){
        // setting jquery body to the body element
        var $body = $('body');
        // clears the body element
        $body.html('');

        var index = streams.home.length - 1;
        var index1 = 0;
        while(index >= 0){
          var tweet = streams.home[index];
          var $tweet = $('<div></div>');
          var date = new Date();
          var dateFormatted = date.getHours() + ':' + date.getMinutes() + ':' + date.getSeconds();
          var $dateFormatted =  $('<div></div>');
          $tweet.text(index + '@' + tweet.user + ': ' + tweet.message);
          $tweet.appendTo($body);
          $dateFormatted.text('Sent at ' + dateFormatted);
          $dateFormatted.appendTo($tweet);
          index -= 1;
          index1 += 1;
        }
        // new code under here after the for loop ends

        var $button = $('<button>Show Most Recent Twits</button>').click(function () {
          // using a stop variable to have it start listing 'in reverse'
          var stop = streams.home.length - 1;
          while(stop >= index1){
            var tweet = streams.home[index1];
            var $tweet = $('<div></div>');
            var date = new Date();
            var dateFormatted = date.getHours() + ':' + date.getMinutes() + ':' + date.getSeconds();
            var $dateFormatted =  $('<div></div>');

            $tweet.text(index1 + '@' + tweet.user + ': ' + tweet.message);
            $tweet.prependTo($body);
            $dateFormatted.text('Sent at ' + dateFormatted);
            $dateFormatted.appendTo($tweet);
            index -= 1;
            index1 += 1;
            $button.prependTo($body);
        }

        });

        $button.prependTo($body);

      });

    </script>
  </body>
</html>


<!--
1. add new tweets to the page automatically
2. have button show new tweets
3. add timestamps of when the tweet was actually made
4. design the page
5. allow click on user to see the user's timelime
 -->